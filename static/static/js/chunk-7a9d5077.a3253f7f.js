(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a9d5077"],{1641:function(e,o,t){"use strict";var s=t("7a59"),r=t.n(s);r.a},"7a59":function(e,o,t){},"9ed6":function(e,o,t){"use strict";t.r(o);var s=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{staticClass:"login-header"},[t("LangSelect",{staticStyle:{float:"right",margin:"25px 50px 10px 10px"}})],1),e._v(" "),t("div",{staticClass:"login-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[e._v(e._s(e.$gk("Rabbit测试平台")))])]),e._v(" "),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{ref:"username",attrs:{placeholder:"请输入账号",name:"username",type:"text","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(o){e.$set(e.loginForm,"username",o)},expression:"loginForm.username"}},[t("svg-icon",{attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"请输入密码",name:"password","auto-complete":"on"},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.handleLogin(o)}},model:{value:e.loginForm.password,callback:function(o){e.$set(e.loginForm,"password",o)},expression:"loginForm.password"}},[t("svg-icon",{attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"}),e._v(" "),t("svg-icon",{staticStyle:{"margin-right":"8px"},attrs:{slot:"suffix","icon-class":"password"===e.passwordType?"eye":"eye-open"},nativeOn:{mousedown:function(o){return e.showPwd(o)},mouseup:function(o){return e.showPwd(o)}},slot:"suffix"})],1)],1),e._v(" "),t("el-checkbox",{model:{value:e.loginForm.checkbox,callback:function(o){e.$set(e.loginForm,"checkbox",o)},expression:"loginForm.checkbox"}},[e._v(e._s(e.$gk("记住密码")))]),e._v(" "),t("el-button",{staticStyle:{width:"100%","margin-bottom":"45px","margin-top":"22px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(o){return o.preventDefault(),e.handleLogin(o)}}},[e._v(e._s(e.$gk("登录")))])],1)],1),e._v(" "),t("div",{staticClass:"login-foot"})])},r=[],n=(t("f548"),t("1131")),i={name:"Login",components:{LangSelect:n["a"]},data:function(){return{loginForm:{username:"",password:"",checkbox:!0},loginRules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},passwordKey:")q4$%^)*&^%m",loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},mounted:function(){var e=JSON.parse(localStorage.getItem("login"));if(e){var o=window.atob(e.p).replace(this.passwordKey+"","");this.loginForm.username=e.u,this.loginForm.password=o}},methods:{showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(o){if(!o)return!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){if(e.$router.push({path:e.redirect||"/"}),e.loading=!1,e.loginForm.checkbox){var o=window.btoa(e.loginForm.password+e.passwordKey);localStorage.setItem("login",JSON.stringify({u:e.loginForm.username,p:o}))}else localStorage.removeItem("login",e.loginForm.checkbox)})).catch((function(){e.loading=!1}))}))}}},a=i,l=(t("1641"),t("5511")),c=Object(l["a"])(a,s,r,!1,null,"3ebfd8be",null);o["default"]=c.exports}}]);